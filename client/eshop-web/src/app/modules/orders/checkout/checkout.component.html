<div class="container">
  <h3 class="mb-3">Checkout</h3>

  <div class="row">
    <div class="col-md-6 p-2">
      <h4 class="mb-3">Datos de la orden</h4>
      <form
        #order="ngForm">
        <div class="row">
          <div class="col-md-6">
            <mat-form-field appearance="outline">
              <mat-label>Nombres</mat-label>
              <input matInput type="text"
                name="firstname" ngModel
                >
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <mat-form-field appearance="outline">
              <mat-label>Apellidos</mat-label>
              <input matInput type="text"
                name="lastname" ngModel
                >
            </mat-form-field>
          </div>
        </div>
        <mat-form-field appearance="outline">
          <mat-label>Correo electrónico</mat-label>
          <input matInput type="text"
            placeholder="a@a.com"
            name="email" ngModel
            >
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Dirección</mat-label>
          <input matInput type="text"
            placeholder="Nombre de la calle"
            name="address1" ngModel
            >
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Dirección 2</mat-label>
          <input matInput type="text"
            placeholder="Casa, Departamento, Conjunto"
            name="address2" ngModel
            >
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>País</mat-label>
          <input matInput type="text"
            placeholder="Ecuador"
            name="country" ngModel
            >
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Ciudad</mat-label>
          <input matInput type="text"
            placeholder="Quito"
            name="city" ngModel
            >
        </mat-form-field>
        <div class="row">
          <div class="col-md-6">
            <mat-form-field appearance="outline">
              <mat-label>Telefono</mat-label>
              <input matInput type="text"
              name="phone" ngModel
              >
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <mat-form-field appearance="outline">
              <mat-label>Zip code</mat-label>
              <input matInput type="text"
              name="zipcode" ngModel
              >
            </mat-form-field>
          </div>
        </div>
      </form>
    </div>

    <div class="col-md-6">
      <h4 class="mb-3">Productos</h4>

      <table class="table shop-table" *ngIf="products" style="width: 100%;">
        <tr>
          <th class="b-0">Producto</th>
          <th class="b-0" style="text-align: center;">Precio</th>
          <th class="b-0" style="text-align: center;">Cantidad</th>
          <th class="b-0" style="text-align: right;">Total</th>
        </tr>
        <tr *ngFor="let item of products; index as i">
          <td>{{ item.name }}</td>
          <td style="text-align: center;">{{ item.price | currency }}</td>
          <td style="text-align: center;">{{ item.quantity }}</td>
          <td style="text-align: right;">
            {{ (item.price * item.quantity) | currency }}
          </td>
        </tr>
        <tr>
          <td colspan="4">&nbsp;</td>
        </tr>
        <tr>
          <td colspan="4"
            style="text-align:right;border-top:1px solid #ccc;padding:5px;">
            <h4>
              Total: {{ total() | currency }}
            </h4>
          </td>
        </tr>
        <tr>
          <td colspan="5" style="text-align:right;">
            &nbsp;
          </td>
        </tr>
      </table>

      <mat-form-field appearance="outline">
        <mat-label>Método de pago</mat-label>
        <mat-select>
          <mat-option *ngFor="let payment of paymentMethod" [value]="payment">
            {{payment}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <button mat-raised-button color="primary"
      [disabled]="products.length===0"
      (click)="checkout(order)">
        Finalizar compra
      </button>
    </div>
  </div>
</div>
